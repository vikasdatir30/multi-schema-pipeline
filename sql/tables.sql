CREATE TABLE source_file_metadata(
	[est_file_id] [int] IDENTITY(1,1) NOT NULL,
	[est_file_name] [nvarchar](100) NULL,
	[est_file_path] [nvarchar](100) NULL,
	[est_is_processed] [nvarchar](5) NULL,
	[est_file_date] [datetime]  default getdate()
	);




CREATE TABLE est_claim_header(
	[EZ_Record_Id][numeric](10) identity(1,1) Primary key,
	[Record_Code] [bigint] NULL,
	[Processor_Number] [nvarchar](max) NULL,
	[Processor_Name] [nvarchar](max) NULL,
	[Processor_Address] [nvarchar](max) NULL,
	[Processor_City] [nvarchar](max) NULL,
	[Processor_State] [nvarchar](max) NULL,
	[Processor_Zip] [nvarchar](max) NULL,
	[Processor_Phone] [nvarchar](max) NULL,
	[Receiver_Id] [nvarchar](max) NULL,
	[Run_Date] [nvarchar](max) NULL,
	[Run_Time] [nvarchar](max) NULL,
	[File_Content_Type] [nvarchar](max) NULL,
	[Version_Number] [nvarchar](max) NULL,
	[Filler] [nvarchar](max) NULL,
	[Copyright_Notice] [nvarchar](max) NULL,
	[EZ_Source_File_Name] [nvarchar](max) NOT NULL,
	[EZ_Header_Part_File] [nvarchar](max) NOT NULL,
	[EZ_Load_Date] [datetime] default getdate()
)

CREATE TABLE est_claim_detail(
	[EZ_Record_Id][numeric](10) identity(1,1) Primary key,
	[Record_Code] [bigint] NULL,
	[Batch_Number] [nvarchar](max) NULL,
	[Transaction_Id] [bigint] NULL,
	[Transaction_Id_Cross_Reference] [bigint] NULL,
	[Vendor_Batch_Code] [nvarchar](max) NULL,
	[Vendor_Batch_Code_Cross_Reference] [nvarchar](max) NULL,
	[Media_Type_Code] [nvarchar](max) NULL,
	[Record_Type_Code] [nvarchar](max) NULL,
	[Ncpdp_Version_Number] [nvarchar](max) NULL,
	[Transaction_Status] [nvarchar](max) NULL,
	[Carrier_Number] [nvarchar](max) NULL,
	[Contract_Number] [nvarchar](max) NULL,
	[Group_Id] [nvarchar](max) NULL,
	[Group_Pass_Thru] [nvarchar](max) NULL,
	[Eligibility_Group_Id] [nvarchar](max) NULL,
	[Claim_Submission_Type] [nvarchar](max) NULL,
	[Plan_Id] [nvarchar](max) NULL,
	[Insulin_Plan] [nvarchar](max) NULL,
	[Specialty_Claim_Indicator] [nvarchar](max) NULL,
	[Dcrs_Super_Id] [bigint] NULL,
	[Short_Cycle_Fill_Code] [nvarchar](max) NULL,
	[Reserved_For_Future_Use_1] [nvarchar](max) NULL,
	[Adjustment_Type] [nvarchar](max) NULL,
	[Adjustment_Reason_Code] [nvarchar](max) NULL,
	[Adjustment_Code] [nvarchar](max) NULL,
	[Adjustment_Indicator] [nvarchar](max) NULL,
	[Reversal_Status] [nvarchar](max) NULL,
	[Paired_Adjustment_Sequence_Number] [bigint] NULL,
	[Reserved_For_Future_Use_2] [nvarchar](max) NULL,
	[Prescription_Service_Reference_Number] [nvarchar](max) NULL,
	[Mmrx_Rx_Number] [nvarchar](max) NULL,
	[Fill_Number] [bigint] NULL,
	[Fill_Number_Calculated] [bigint] NULL,
	[Number_Of_Refills_Authorized] [bigint] NULL,
	[Dispense_As_Written] [nvarchar](max) NULL,
	[Cutback_Indicator] [nvarchar](max) NULL,
	[Dispensing_Status] [nvarchar](max) NULL,
	[Date_Prescription_Written] [nvarchar](max) NULL,
	[Direct_Claim_Payment_Release_Date] [nvarchar](max) NULL,
	[Claim_Received_Date] [nvarchar](max) NULL,
	[Time_Received] [nvarchar](max) NULL,
	[Adjudication_Date] [nvarchar](max) NULL,
	[Date_Of_Service] [nvarchar](max) NULL,
	[Date_Of_Service_Julian] [nvarchar](max) NULL,
	[Invoice_Date] [nvarchar](max) NULL,
	[Prescription_Origin_Code] [bigint] NULL,
	[Intermediary_Communication_Code] [nvarchar](max) NULL,
	[Reject_Code_1] [nvarchar](max) NULL,
	[Reject_Code_2] [nvarchar](max) NULL,
	[Reject_Code_3] [nvarchar](max) NULL,
	[Reject_Code_4] [nvarchar](max) NULL,
	[Reject_Code_5] [nvarchar](max) NULL,
	[Claim_Override_Code_1] [nvarchar](max) NULL,
	[Claim_Override_Code_2] [nvarchar](max) NULL,
	[Claim_Override_Code_3] [nvarchar](max) NULL,
	[Reject_Override_Code] [nvarchar](max) NULL,
	[Submission_Clarification_Code] [bigint] NULL,
	[Communication_Type_Identifier] [nvarchar](max) NULL,
	[Reserved_For_Future_Use_3] [nvarchar](max) NULL,
	[Diagnosis_Code_Qualifier_1] [nvarchar](max) NULL,
	[Diagnosis_Code_Qualifier_2] [nvarchar](max) NULL,
	[Diagnosis_Code_Qualifier_3] [nvarchar](max) NULL,
	[Diagnosis_Code_Qualifier_4] [nvarchar](max) NULL,
	[Diagnosis_Code_Qualifier_5] [nvarchar](max) NULL,
	[Diagnosis_Code_1] [nvarchar](max) NULL,
	[Diagnosis_Code_2] [nvarchar](max) NULL,
	[Diagnosis_Code_3] [nvarchar](max) NULL,
	[Diagnosis_Code_4] [nvarchar](max) NULL,
	[Diagnosis_Code_5] [nvarchar](max) NULL,
	[Professional_Service_Code_1] [nvarchar](max) NULL,
	[Professional_Service_Code_2] [nvarchar](max) NULL,
	[Professional_Service_Code_3] [nvarchar](max) NULL,
	[Professional_Service_Code_4] [nvarchar](max) NULL,
	[Professional_Service_Code_5] [nvarchar](max) NULL,
	[Professional_Service_Code_6] [nvarchar](max) NULL,
	[Professional_Service_Code_7] [nvarchar](max) NULL,
	[Professional_Service_Code_8] [nvarchar](max) NULL,
	[Professional_Service_Code_9] [nvarchar](max) NULL,
	[Reason_For_Service_Code_1] [nvarchar](max) NULL,
	[Reason_For_Service_Code_2] [nvarchar](max) NULL,
	[Reason_For_Service_Code_3] [nvarchar](max) NULL,
	[Reason_For_Service_Code_4] [nvarchar](max) NULL,
	[Reason_For_Service_Code_5] [nvarchar](max) NULL,
	[Reason_For_Service_Code_6] [nvarchar](max) NULL,
	[Reason_For_Service_Code_7] [nvarchar](max) NULL,
	[Reason_For_Service_Code_8] [nvarchar](max) NULL,
	[Reason_For_Service_Code_9] [nvarchar](max) NULL,
	[Result_Of_Service_Code_1] [nvarchar](max) NULL,
	[Result_Of_Service_Code_2] [nvarchar](max) NULL,
	[Result_Of_Service_Code_3] [nvarchar](max) NULL,
	[Result_Of_Service_Code_4] [nvarchar](max) NULL,
	[Result_Of_Service_Code_5] [nvarchar](max) NULL,
	[Result_Of_Service_Code_6] [nvarchar](max) NULL,
	[Result_Of_Service_Code_7] [nvarchar](max) NULL,
	[Result_Of_Service_Code_8] [nvarchar](max) NULL,
	[Result_Of_Service_Code_9] [nvarchar](max) NULL,
	[Reserved_For_Future_Use_4] [nvarchar](max) NULL,
	[Product_Service_Id_Qualifier] [nvarchar](max) NULL,
	[Product_Service_Id] [nvarchar](max) NULL,
	[Unit_Of_Measure] [nvarchar](max) NULL,
	[Unit_Dose_Indicator] [nvarchar](max) NULL,
	[Product_Service_Description] [nvarchar](max) NULL,
	[Quantity_Intended_To_Be_Dispensed] [real] NULL,
	[Quantity_Dispensed] [real] NULL,
	[Prescribed_Days_Supply] [nvarchar](max) NULL,
	[Days_Supply_Intended_To_Be_Dispensed] [bigint] NULL,
	[Days_Supply] [nvarchar](max) NULL,
	[Drug_Strength] [nvarchar](max) NULL,
	[Dosage_Description] [nvarchar](max) NULL,
	[Gcn_Number] [nvarchar](max) NULL,
	[Compound_Indicator] [nvarchar](max) NULL,
	[Maintenance_Drug_Flag] [nvarchar](max) NULL,
	[Drug_Indicator] [nvarchar](max) NULL,
	[Hcfa_Indicator] [nvarchar](max) NULL,
	[Single_Source_Generic_Code] [nvarchar](max) NULL,
	[Filler] [nvarchar](max) NULL,
	[Therapeutic_Class_Code_Specific] [nvarchar](max) NULL,
	[Therapeutic_Classcode_Ahfs] [nvarchar](max) NULL,
	[Therapeutic_Class_Code_Generic] [nvarchar](max) NULL,
	[Therapeutic_Class_Code_Standard] [nvarchar](max) NULL,
	[Usc_Code] [nvarchar](max) NULL,
	[Generic_Product_Indicator] [nvarchar](max) NULL,
	[Generic_Sequence_Number] [nvarchar](max) NULL,
	[Route_Of_Administration] [nvarchar](max) NULL,
	[Dea_Class_Of_Drug] [nvarchar](max) NULL,
	[Fda_Drug_Efficacy_Indicator] [nvarchar](max) NULL,
	[Drug_Class] [nvarchar](max) NULL,
	[Drug_Category_Code] [nvarchar](max) NULL,
	[Therapeutic_Chapter] [nvarchar](max) NULL,
	[Client_Account_Id] [nvarchar](max) NULL,
	[Cardholder_Id] [nvarchar](max) NULL,
	[Cardholder_First_Name] [nvarchar](max) NULL,
	[Cardholder_Middle_Name] [nvarchar](max) NULL,
	[Cardholder_Last_Name] [nvarchar](max) NULL,
	[Cardholder_Gender] [bigint] NULL,
	[Cardholder_Date_Of_Birth] [nvarchar](max) NULL,
	[Cardholder_Address_1] [nvarchar](max) NULL,
	[Cardholder_Address_2] [nvarchar](max) NULL,
	[Cardholder_City] [nvarchar](max) NULL,
	[Cardholder_State] [nvarchar](max) NULL,
	[Cardholder_Zip_Code] [nvarchar](max) NULL,
	[Coverage_Code] [nvarchar](max) NULL,
	[Patient_Id_Qualifier] [nvarchar](max) NULL,
	[Patient_Id] [nvarchar](max) NULL,
	[Patient_First_Name] [nvarchar](max) NULL,
	[Patient_Middle_Name] [nvarchar](max) NULL,
	[Patient_Last_Name] [nvarchar](max) NULL,
	[Patient_Gender] [bigint] NULL,
	[Patient_Date_Of_Birth] [nvarchar](max) NULL,
	[Patient_Age] [bigint] NULL,
	[Patient_Relationship_Code] [nvarchar](max) NULL,
	[Person_Code] [nvarchar](max) NULL,
	[Eligibility_Clarification_Code] [nvarchar](max) NULL,
	[Eligibility_Relation_Code] [bigint] NULL,
	[Patient] [nvarchar](max) NULL,
	[Reserved_For_Future_Use_5] [nvarchar](max) NULL,
	[Prescriber_Id_Qualifier] [nvarchar](max) NULL,
	[Prescriber_Id] [nvarchar](max) NULL,
	[Prescriber_Last_Name] [nvarchar](max) NULL,
	[Prescriber_Telephone_Number] [nvarchar](max) NULL,
	[Service_Provider_Id_Qualifier] [nvarchar](max) NULL,
	[Service_Provider_Id] [nvarchar](max) NULL,
	[Pharmacy_Chain_Id] [nvarchar](max) NULL,
	[Pharmacy_Name] [nvarchar](max) NULL,
	[Pharmacy_Address] [nvarchar](max) NULL,
	[Pharmacy_City] [nvarchar](max) NULL,
	[Pharmacy_State] [nvarchar](max) NULL,
	[Pharmacy_Zip] [nvarchar](max) NULL,
	[Pharmacy_Phone_Number] [nvarchar](max) NULL,
	[Pharmacy_Tax_Id_Number] [nvarchar](max) NULL,
	[Pharmacy_County_Code] [nvarchar](max) NULL,
	[Pharmacy_Class_Code] [nvarchar](max) NULL,
	[Level_Of_Service] [nvarchar](max) NULL,
	[In_Network_Indicator] [nvarchar](max) NULL,
	[Network_Type] [nvarchar](max) NULL,
	[Pharmacy_Npi_Qualifier] [nvarchar](max) NULL,
	[Pharmacy_Npi] [nvarchar](max) NULL,
	[Reserved_For_Future_Use_6] [nvarchar](max) NULL,
	[Not_Avaialble_1] [nvarchar](max) NULL,
	[Not_Avaialble_2] [real] NULL,
	[Admin_Effect_Indicator] [nvarchar](max) NULL,
	[Not_Avaialble_3] [real] NULL,
	[Not_Avaialble_4] [real] NULL,
	[Not_Avaialble_5] [real] NULL,
	[Not_Avaialble_6] [real] NULL,
	[Not_Avaialble_7] [real] NULL,
	[Not_Avaialble_8] [real] NULL,
	[Not_Avaialble_9] [real] NULL,
	[Not_Avaialble_10] [real] NULL,
	[Not_Avaialble_11] [real] NULL,
	[Not_Avaialble_12] [real] NULL,
	[Not_Avaialble_13] [real] NULL,
	[Not_Avaialble_14] [real] NULL,
	[Not_Avaialble_15] [real] NULL,
	[Not_Avaialble_16] [real] NULL,
	[Not_Avaialble_17] [nvarchar](max) NULL,
	[Not_Avaialble_18] [real] NULL,
	[Not_Avaialble_19] [real] NULL,
	[Not_Avaialble_20] [real] NULL,
	[Not_Avaialble_21] [real] NULL,
	[Not_Avaialble_22] [real] NULL,
	[Not_Avaialble_23] [real] NULL,
	[Not_Avaialble_24] [real] NULL,
	[Not_Avaialble_25] [real] NULL,
	[Not_Avaialble_26] [real] NULL,
	[Not_Avaialble_27] [real] NULL,
	[Not_Avaialble_28] [real] NULL,
	[Hold_Harmless_Code] [nvarchar](max) NULL,
	[Not_Avaialble_29] [real] NULL,
	[Not_Avaialble_30] [real] NULL,
	[Not_Avaialble_31] [real] NULL,
	[Not_Avaialble_32] [real] NULL,
	[Not_Avaialble_33] [nvarchar](max) NULL,
	[Not_Avaialble_34] [real] NULL,
	[Not_Avaialble_35] [nvarchar](max) NULL,
	[Not_Avaialble_36] [real] NULL,
	[Not_Avaialble_37] [real] NULL,
	[Not_Avaialble_38] [real] NULL,
	[Not_Avaialble_39] [real] NULL,
	[Not_Avaialble_40] [real] NULL,
	[Reserved_For_Future_Use_7] [nvarchar](max) NULL,
	[Other_Coverage_Code] [bigint] NULL,
	[Cob_Primary_Claim_Type] [nvarchar](max) NULL,
	[Cob_Indicator] [nvarchar](max) NULL,
	[Original_Claim_Received_Date] [nvarchar](max) NULL,
	[Claim_Sequence_Number] [bigint] NULL,
	[Claim_Direct_Indicator] [nvarchar](max) NULL,
	[Check_Number] [bigint] NULL,
	[Check_Date] [nvarchar](max) NULL,
	[Formulary_Admin_Type] [bigint] NULL,
	[Client_Formulary_Flag] [nvarchar](max) NULL,
	[Formulary_Flag] [nvarchar](max) NULL,
	[Copay_Modifier_Id] [nvarchar](max) NULL,
	[Formulary_File_Id] [nvarchar](max) NULL,
	[Preferred_Alternative_File_Id] [nvarchar](max) NULL,
	[Copay_Product_Drug_List] [bigint] NULL,
	[Copay_Product_Copay_Level] [bigint] NULL,
	[Reserved_For_Future_Use_8] [nvarchar](max) NULL,
	[Medicare_Recovery_Indicator] [nvarchar](max) NULL,
	[Medicare_Indicator] [nvarchar](max) NULL,
	[Prior_Authorization_Indicator] [nvarchar](max) NULL,
	[Prior_Authorization_Number] [nvarchar](max) NULL,
	[Prior_Authorization_Type_Code] [nvarchar](max) NULL,
	[Claim_Reference_Id] [nvarchar](max) NULL,
	[Memo_Item_Indicator] [nvarchar](max) NULL,
	[Prior_Auth_Copay_Override_Indicator] [nvarchar](max) NULL,
	[Patient_Level_Authorization_Indicator] [nvarchar](max) NULL,
	[Reserved_For_Future_Use_9] [nvarchar](max) NULL,
	[User_Sequence_Locator] [nvarchar](max) NULL,
	[Insurance_Code] [nvarchar](max) NULL,
	[Payroll_Class] [nvarchar](max) NULL,
	[Client_Pass_Through] [nvarchar](max) NULL,
	[Billable_Product_Service_Id_Qualifier] [nvarchar](max) NULL,
	[Billable_Product_Service_Id] [nvarchar](max) NULL,
	[Copay_Modifier_Indicator] [nvarchar](max) NULL,
	[Rra_Penalty] [real] NULL,
	[Enhanced_Prescription_Service_Reference_Number] [bigint] NULL,
	[Amount_Attributed_To_Processor_Fee] [real] NULL,
	[Amount_Attributed_To_Provider_Network_Selection] [real] NULL,
	[Amount_Attributed_To_Product_Selection_Non_Preferred_Formulary_Selection] [real] NULL,
	[Amount_Attributed_To_Product_Selection_Brand_Non_Preferred_Formulary_Selection] [real] NULL,
	[Amount_Attributed_To_Coverage_Gap] [real] NULL,
	[Health_Plan_Funded_Assistance_Amount] [real] NULL,
	[Coverage_Gap_Discount_Indicator] [nvarchar](max) NULL,
	[Payment_Reference_Number] [nvarchar](max) NULL,
	[Preferred_Pharmacy_Status_Code] [nvarchar](max) NULL,
	[Reserved_For_Client_Specific_Customization] [nvarchar](max) NULL,
	[Processor_number] [nvarchar](max) NULL,
	[EZ_Source_File_Name] [nvarchar](max) NOT NULL,
	[EZ_Detail_Part_File] [nvarchar](max) NOT NULL,
	[EZ_Load_Date] [datetime]  default getdate()
)





CREATE TABLE est_claim_trailer(
	[EZ_Record_Id] numeric(10) identity(1,1) primary key,
	[Record_Code] [bigint] NULL,
	[Processor_Number] [nvarchar](max) NULL,
	[Transaction_Count] [bigint] NULL,
	[Not_Available_1] [real] NULL,
	[Not_Available_2] [real] NULL,
	[Not_Available_3] [real] NULL,
	[Not_Available_4] [real] NULL,
	[Filler] [nvarchar](max) NULL,
	[EZ_Source_File_Name] [nvarchar](max) NOT NULL,
	[EZ_Trailer_Part_File] [nvarchar](max) NOT NULL,
	[EZ_Load_Date] [datetime] default getdate()
)